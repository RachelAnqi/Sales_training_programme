tags$div(style = "display:inline-block;text-align:center;width:15%",
"战略和周期计划"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p2_total_stategy_planning")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
textInput("p2_p2_flm_stategy_planning", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"行政工作"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p2_total_admin_work")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
textInput("p2_flm_admin_work", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"总体"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p2_total_management")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
verbatimTextOutput("p2_flm_management"))
)
),
br(),
fluidRow(
h3("产品培训"),
tags$div(
tags$div(style = "display:inline-block;margin-left:15%;text-align:center;width:15%",
"代表1"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表2"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表3"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表4"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表5")
),
# tags$div(
#   tags$div(style = "display:inline-block;text-align:center;width:15%",
#            "销售指标"),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p2_sr1_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p2_sr2_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p2_sr3_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p2_sr4_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p2_sr5_sales_target", label =
#                        NULL))
# ),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"产品培训(天)"),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p2_sr1_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p2_sr2_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p2_sr3_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p2_sr4_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p2_sr5_product_training", label =
NULL))
)
)
),
tabPanel(
"Phase3",
fluidRow(h3("时间分配"),
tags$div(
tags$div(style = "display:inline-block;margin-left:10px;width:40%;text-align:center;",
"时间分配(天)"),
tags$div(style = "display:inline-block;width:40%;text-align:center;",
"100")
)),
hr(),
fluidRow(
h3("经理时间分配(天数)"),
tags$div(
tags$div(style = "display:inline-block;margin-left:15%;text-align:center;width:11.5%",
"总时间的百分比"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"经理"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"代表1"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"代表2"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"代表3"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"代表4"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"代表5")
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"销售培训"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p3_total_sales_training")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
verbatimTextOutput("p3_flm_sales_training")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p3_sr1_sales_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p3_sr2_sales_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p3_sr3_sales_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p3_sr4_sales_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p3_sr5_sales_training", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"医院拜访"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p3_total_field_work")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
verbatimTextOutput("p3_flm_field_work")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p3_sr1_field_work", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p3_sr2_field_work", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p3_sr3_field_work", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p3_sr4_field_work", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p3_sr5_field_work", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"团队会议"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p3_total_team_meeting")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
textInput("p3_flm_team_meeting", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
verbatimTextOutput("p3_sr1_team_meeting")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
verbatimTextOutput("p3_sr2_team_meeting")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
verbatimTextOutput("p3_sr3_team_meeting")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
verbatimTextOutput("p3_sr4_team_meeting")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
verbatimTextOutput("p3_sr5_team_meeting"))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"KPI 报告分析"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p3_total_kpi_analysis")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
textInput("p3_flm_kpi_analysis", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"战略和周期计划"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p3_total_stategy_planning")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
textInput("p3_p3_flm_stategy_planning", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"行政工作"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p3_total_admin_work")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
textInput("p3_flm_admin_work", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"总体"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p3_total_management")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
verbatimTextOutput("p3_flm_management"))
)
),
br(),
fluidRow(
h3("产品培训"),
tags$div(
tags$div(style = "display:inline-block;margin-left:15%;text-align:center;width:15%",
"代表1"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表2"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表3"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表4"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表5")
),
# tags$div(
#   tags$div(style = "display:inline-block;text-align:center;width:15%",
#            "销售指标"),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p3_sr1_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p3_sr2_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p3_sr3_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p3_sr4_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p3_sr5_sales_target", label =
#                        NULL))
# ),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"产品培训(天)"),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p3_sr1_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p3_sr2_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p3_sr3_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p3_sr4_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p3_sr5_product_training", label =
NULL))
)
)
),
tabPanel(
"Phase4",
fluidRow(h3("时间分配"),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"时间分配(天)"),
tags$div(style = "display:inline-block;width:40%;text-align:center;",
"100")
)),
hr(),
fluidRow(
h3("经理时间分配(天数)"),
tags$div(
tags$div(style = "display:inline-block;margin-left:15%;text-align:center;width:11.5%",
"总时间的百分比"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"经理"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"代表1"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"代表2"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"代表3"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"代表4"),
tags$div(style = "display:inline-block;text-align:center;width:11.5%",
"代表5")
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"销售培训"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p4_total_sales_training")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
verbatimTextOutput("p4_flm_sales_training")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p4_sr1_sales_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p4_sr2_sales_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p4_sr3_sales_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p4_sr4_sales_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p4_sr5_sales_training", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"医院拜访"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p4_total_field_work")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
verbatimTextOutput("p4_flm_field_work")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p4_sr1_field_work", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p4_sr2_field_work", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p4_sr3_field_work", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p4_sr4_field_work", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
textInput("p4_sr5_field_work", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"团队会议"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p4_total_team_meeting")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
textInput("p4_flm_team_meeting", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
verbatimTextOutput("p4_sr1_team_meeting")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
verbatimTextOutput("p4_sr2_team_meeting")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
verbatimTextOutput("p4_sr3_team_meeting")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
verbatimTextOutput("p4_sr4_team_meeting")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2.5%;width:8%;margin-right:1.5%",
verbatimTextOutput("p4_sr5_team_meeting"))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"KPI 报告分析"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p4_total_kpi_analysis")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
textInput("p4_flm_kpi_analysis", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"战略和周期计划"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p4_total_stategy_planning")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
textInput("p4_p4_flm_stategy_planning", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"行政工作"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p4_total_admin_work")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
textInput("p4_flm_admin_work", label =
NULL))
),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"总体"),
tags$div(style = "display:inline-block;text-align:center;margin-left:1%;width:8%;margin-right:1%",
verbatimTextOutput("p4_total_management")),
tags$div(style = "display:inline-block;text-align:center;margin-left:2%;width:8%;margin-right:1%",
verbatimTextOutput("p4_flm_management"))
)
),
br(),
fluidRow(
h3("产品培训"),
tags$div(
tags$div(style = "display:inline-block;margin-left:15%;text-align:center;width:15%",
"代表1"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表2"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表3"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表4"),
tags$div(style = "display:inline-block;text-align:center;width:15%",
"代表5")
),
# tags$div(
#   tags$div(style = "display:inline-block;text-align:center;width:15%",
#            "销售指标"),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p4_sr1_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p4_sr2_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p4_sr3_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p4_sr4_sales_target", label =
#                        NULL)),
#   tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
#            textInput("p4_sr5_sales_target", label =
#                        NULL))
# ),
tags$div(
tags$div(style = "display:inline-block;text-align:center;width:15%",
"产品培训(天)"),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p4_sr1_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p4_sr2_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p4_sr3_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p4_sr4_product_training", label =
NULL)),
tags$div(style = "display:inline-block;text-align:center;margin-left:3%;width:9%;margin-right:3%",
textInput("p4_sr5_product_training", label =
NULL))
)
)
)
)
),
tabItem(tabName = "report1",
DT::dataTableOutput("report1_table")),
tabItem(tabName = "report2",
DT::dataTableOutput("report2_table")),
tabItem(tabName = "report3",
DT::dataTableOutput("report3_table")),
tabItem(tabName = "report4",
DT::dataTableOutput("report4_table"))
)
)
)
shinyApp(ui=ui,server = server3)
server3 = function(input, output) {
##phase1
output$p1_total_promotional_budget <- renderText(
total_promotional_budget$phase1
)
p1_calculator_result <- eventReactive(input$decision1_phase1_calculator,{
calculator(input,1)
})
output$p1_arranged_promotional_budget <- renderText(p1_calculator_result()[1])
output$p1_arranged_time_of_sr1 <- renderText(p1_calculator_result()[2])
output$p1_arranged_time_of_sr2 <- renderText(p1_calculator_result()[3])
output$p1_arranged_time_of_sr3 <- renderText(p1_calculator_result()[4])
output$p1_arranged_time_of_sr4 <- renderText(p1_calculator_result()[5])
output$p1_arranged_time_of_sr5 <- renderText(p1_calculator_result()[6])
observeEvent(input$decision1_phase1_submit, {
disable("p1_discount_hosp1_1")
disable("p1_discount_hosp1_2")
output$p1_decison1_summary_hosp1 <- renderText({12})
output$p1_decison1_summary_hosp2 <- renderText({12})
})
data1_phase1 <- eventReactive(input$decision1_phase1_submit,{
get.data1(input,1)
})
data2_phase1 <- eventReactive(input$decision2_phase1_submit,{
get.data2(input,1)
})
output$report1_table <- renderDataTable(data1_phase1())
output$report2_table <- renderDataTable(data2_phase1())
output$p1_total_sales_training <-renderText(sales_training(input,1))
output$p1_flm_sales_training <- renderText(sales_training(input,1))
output$p1_total_field_work <-renderText(field_work(input,1))
output$p1_flm_field_work <- renderText(field_work(input,1))
output$p1_total_team_meeting <- renderText(input$p1_flm_team_meeting)
output$p1_total_kpi_analysis <- renderText(input$p1_flm_kpi_analysis)
output$p1_total_strategy_planning <- renderText(input$p1_flm_strategy_planning)
output$p1_total_admin_work <- renderText(input$p1_flm_admin_work)
output$p1_total_management <- renderText(total_management(input,phase))
p1_flm_data <- reactive(get.data3(input,1))
output$report3_table <- renderDataTable({
data1<-data1_phase1()
data2<-data2_phase1()
calculation(pp_info_by_hosp_product_new,
sr_info_initial_value,
data1,
data2)
#left_join(data1_phase1(),pp_info_by_hosp_product_new,by=c("hospital","product"))
})
}
shinyApp(ui=ui,server = server3)
